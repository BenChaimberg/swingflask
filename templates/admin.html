<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<script type='text/javascript' src="{{ url_for('static', filename='jquery-1.11.0.min.js') }}"></script>
		<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
		<title>Brochure List</title>
		<style>
			tr:nth-child(even) {
				background-color:#CCCCCC;
			}
			tr:nth-child(odd) {
				background-color:#F6F6F6;
			}
			tr:nth-child(1) {
				font-weight:bold;
				border:1px solid black;
				display:none;
			}
			tr:nth-child(1) td {
				border-bottom:1px solid black;
				background-color:#FFFFFF;
			}
		</style>
		<script>
			$(document).ready(function(){
				$("#form").submit(function(){
					$("input").attr('disabled', 'disabled');
					$("select").attr('disabled', 'disabled');
					var data = {{ data | replace("u'","'") | replace('u"','"') | safe }};
					$("#write").children().children().css("display","table-row");
					for (var key in data){;
						var values = [];
						for (var key2 in data[key]){
							switch (key2){
								case "name":
									values[0] = data[key][key2];
									break;
								case "email":
									values[1] = data[key][key2];
									break;
								case "address":
									values[2] = data[key][key2];
									break;
								case "city":
									values[3] = data[key][key2];
									break;
								case "stateprov":
									values[4] = data[key][key2];
									break;
								case "zipcode":
									values[5] = data[key][key2];
									break;
								case "country":
									values[6] = data[key][key2];
									break;
								case "time":
									values[7] = data[key][key2];
									break;
								case "lang":
									values[8] = data[key][key2];
									break;
							}
						}
						if (new Date(values[7]) >= new Date(parseInt($("#startyear").val()),parseInt($("#startmonth").val()),parseInt($("#startday").val()),0,0,0,0)
							&& new Date(values[7]) <= new Date(parseInt($("#endyear").val()),parseInt($("#endmonth").val()),parseInt($("#endday").val()),0,0,0,0)) {
							var newRow  = document.getElementById("write").insertRow(-1);
							for (var value in values) {
								var newCell = newRow.insertCell(-1);
								var newText = document.createTextNode(values[value]);
								newCell.appendChild(newText);
							}
						}
					}
				return false;
				});
			});
		</script>
	</head>
	<body>
		<div>
			<form id="form">
				Start Date:
				<select id="startmonth">
					<option selected>Month</option>
					<option value="0">Jan</option>
					<option value="1">Feb</option>
					<option value="2">Mar</option>
					<option value="3">Apr</option>
					<option value="4">May</option>
					<option value="5">June</option>
					<option value="6">July</option>
					<option value="7">Aug</option>
					<option value="8">Sept</option>
					<option value="9">Oct</option>
					<option value="10">Nov</option>
					<option value="11">Dec</option>
				</select>
				<select id="startday">
					<option selected>Day</option>
					<option>1</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5</option>
					<option>6</option>
					<option>7</option>
					<option>8</option>
					<option>9</option>
					<option>10</option>
					<option>11</option>
					<option>12</option>
					<option>13</option>
					<option>14</option>
					<option>15</option>
					<option>16</option>
					<option>17</option>
					<option>18</option>
					<option>19</option>
					<option>20</option>
					<option>21</option>
					<option>22</option>
					<option>23</option>
					<option>24</option>
					<option>25</option>
					<option>26</option>
					<option>27</option>
					<option>28</option>
					<option>29</option>
					<option>30</option>
					<option>31</option>
				</select>
				<select id="startyear">
					<option selected>Year</option>
					<option>2005</option>
					<option>2006</option>
					<option>2007</option>
					<option>2008</option>
					<option>2009</option>
					<option>2010</option>
					<option>2011</option>
					<option>2012</option>
					<option>2013</option>
					<option>2014</option>
					<option>2015</option>
				</select>
				End Date:
				<select id="endmonth">
					<option selected>Month</option>
					<option value="0">Jan</option>
					<option value="1">Feb</option>
					<option value="2">Mar</option>
					<option value="3">Apr</option>
					<option value="4">May</option>
					<option value="5">June</option>
					<option value="6">July</option>
					<option value="7">Aug</option>
					<option value="8">Sept</option>
					<option value="9">Oct</option>
					<option value="10">Nov</option>
					<option value="11">Dec</option>
				</select>
				<select id="endday">
					<option selected>Day</option>
					<option>1</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5</option>
					<option>6</option>
					<option>7</option>
					<option>8</option>
					<option>9</option>
					<option>10</option>
					<option>11</option>
					<option>12</option>
					<option>13</option>
					<option>14</option>
					<option>15</option>
					<option>16</option>
					<option>17</option>
					<option>18</option>
					<option>19</option>
					<option>20</option>
					<option>21</option>
					<option>22</option>
					<option>23</option>
					<option>24</option>
					<option>25</option>
					<option>26</option>
					<option>27</option>
					<option>28</option>
					<option>29</option>
					<option>30</option>
					<option>31</option>
				</select>
				<select id="endyear">
					<option selected>Year</option>
					<option>2005</option>
					<option>2006</option>
					<option>2007</option>
					<option>2008</option>
					<option>2009</option>
					<option>2010</option>
					<option>2011</option>
					<option>2012</option>
					<option>2013</option>
					<option>2014</option>
					<option>2015</option>
				</select>
				<input id="submit" type="submit" value="Display">
			</form>
		</div>
		<table id="write">
			<tr>
				<td>Name</td>
				<td>E-mail</td>
				<td>Address</td>
				<td>City</td>
				<td>State/Prov</td>
				<td>Zip/Postal</td>
				<td>Country</td>
				<td>Date</td>
				<td>Language</td>
			</tr>
		</table>
	</body>
</html>