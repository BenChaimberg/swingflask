from flask import redirect, url_forfrom flask.ext.admin import AdminIndexView, exposefrom flask.ext.admin.contrib.sqla import ModelViewfrom flask.ext.admin.contrib.fileadmin import FileAdminfrom flask.ext.login import current_userclass CustomModelView(ModelView):    column_display_pk = True    list_template='admin/right_links_model.html'    def is_accessible(self):        return current_user.is_authenticated()class ProductView(CustomModelView):    column_default_sort = 'id'    column_searchable_list = ['id']class CustomFileAdmin(FileAdmin):    list_template='admin/right_links_file.html'    def is_accessible(self):        return current_user.is_authenticated()class ProtectedAdminIndexView(AdminIndexView):    @expose('/')    def index(self):        if not current_user.is_authenticated():            return redirect(url_for('login'))        return super(ProtectedAdminIndexView, self).index()